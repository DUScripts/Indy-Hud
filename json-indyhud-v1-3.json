{"slots":{"0":{"name":"core","type":{"events":[],"methods":[]}},"1":{"name":"slot2","type":{"events":[],"methods":[]}},"2":{"name":"slot3","type":{"events":[],"methods":[]}},"3":{"name":"slot4","type":{"events":[],"methods":[]}},"4":{"name":"slot5","type":{"events":[],"methods":[]}},"5":{"name":"slot6","type":{"events":[],"methods":[]}},"6":{"name":"slot7","type":{"events":[],"methods":[]}},"7":{"name":"slot8","type":{"events":[],"methods":[]}},"8":{"name":"slot9","type":{"events":[],"methods":[]}},"9":{"name":"slot10","type":{"events":[],"methods":[]}},"-1":{"name":"unit","type":{"events":[],"methods":[]}},"-3":{"name":"player","type":{"events":[],"methods":[]}},"-2":{"name":"construct","type":{"events":[],"methods":[]}},"-4":{"name":"system","type":{"events":[],"methods":[]}},"-5":{"name":"library","type":{"events":[],"methods":[]}}},"handlers":[{"code":"language = 'EN' --export: EN, DE, FR\nmaxRenderDist = 60 --export: Maximum render distance in meters. Affects FPS.\nmaxPerFrame = 340 --export: Units drawn per render frame. Lower this if you are running other scripts too.\nfontSize = 0.94 --export: Recommended = 0.94, large = 1.2\nminimumOpacity = 0.45 --export: Lowest opacity of distant units. Range of zero to 1.\nshowContainers = true --export: Show containers in AR view and filters.\nshowRecipes = false --export: Show recipe list in the detail view box.\ndebugMode = false --export: Show debug data.\nlocal a=false;local b=false;local c=10;local d=false;local e,f,g,h,i,j=system.print,string.format,math.floor,math.max,math.min,table.concat;local k=16777216;local function l(m)local n=m.x*Industry.cx;local o=m.y*Industry.cy;local p=m.z*Industry.cz;return n+o+p+Industry.worldPos end;local function q(r)return r==math.huge or r==-math.huge end;local function s(t,u)local v=10^(u or 0)return g(t*v+0.5)/v end;local function w(x)if x==nil or x~=x or x<1 or type(x)~=\"number\"then return\"00:00:00\"end;local y=g(x/3600)x=x-3600*y;local i=g(x/60)x=x-60*i;local z=s(x,0)local A=f(\"%02d:%02d:%02d\",y,i,z)return A end;local function B(C,D)return C.dist<D.dist end;local E={EN=0,DE=1,FR=2}local F=E[language]local G={['Exit HUD']={'HUD Beenden','Arréter HUD'},['Container']={'Behälter','Conteneur'},['Stopped']={'Angehalten','Arrété'},['Running']={'Laufend','En fonctionnement'},['Needs Ingredients']={'Fehlende Eingabekomponenten','Ingrédients manquants'},['Output Full']={'Fehlende Ausgabelagerkapazität','Sortie pleine'},['No Output Link']={'Fehlende Ausgabebehälter','Lien de sortie manquant'},['Pending']={'Anstehend','En attente'},['Missing Schematics']={'Keine Schemas mehr übrig','Schémas manquants'},['Server Error']={'Serverfehler','Erreur serveur'},['All Error Codes']={'Alle Fehlercodes',\"Tout les codes d'erreurs\"},['Reset All Filters']={'Alle Filter zurücksetzen','Réinitialiser tous les filtres'},['Search For Output Products']={'Suche nach Ausgabeprodukten','Rechercher des produits de sortie'},['Search By Machine Type']={'Nach Maschinentyp suchen','Recherche par type de machine'},['Include Containers']={'Beinhaltet Behälter','Inclure les conteneurs'},['Show Recipes']={'Rezepte anzeigen','Afficher les recettes'},['Reload the HUD']={'HUD erneut laden','Rechargez le HUD'},['LOADING DATA']={'LADE DATEN','CHARGEMENT DES DONNÉES'},['TOTAL ELEMENTS']={'GESAMTE ELEMENTE','TOTAL DES ÉLÉMENTS'},['RENDERED']={'GERENDERT','RENDU'},['MATCHES IN RANGE']={'TREFFER IM BEREICH','CORRESPONDANCES'},['off']={'aus','éteint'},['on']={'ein','allumé'},['full']={'voll','complet'},['Search filters will stack until reset with R']={'Die Suchfilter werden gestapelt, bis sie mit R zurückgesetzt werden'}}local function H(I)if F>0 and G[I]then return G[I][F]else return I end end;Industry=(function()local J={i=0,cx=vec3(construct.getWorldOrientationRight()),cy=vec3(construct.getWorldOrientationForward()),cz=vec3(construct.getWorldOrientationUp()),pPos=vec3(player.getWorldPosition()),loaded=false,ready=false,states={H('Stopped'),H('Running'),H('Needs Ingredients'),H('Output Full'),H('No Output Link'),H('Pending'),H('Missing Schematics'),H('Server Error')},allBlocks={},renderBlocks={},elemIndy={},renderIndy={},priorityIndy={},totalUnits=0,totalUnrender=0,matchesFound=0,renderSize=0,lastFilter='r',searchActive=false,searches={},filters={1,1,1,1,1,1,1,1},cssStatic=[[ <style> .parent-p{position:absolute;top:0;left:0;z-index:400;} .parent-r{position:absolute;top:0;left:0;z-index:100;} .indy{ position: absolute; display: block; color: #222; font-size: ]]..fontSize..[[vh; opacity: 0.7; max-width: ]]..20*fontSize..[[vh; text-transform:uppercase; transform-origin: 0 0; } .ifull{ width: ]]..20*fontSize..[[vh; } .fs-s{font-size:0.92em;} .bg-b .ii{background:#303030; color:#fff;} .bg-k .ii{background:#666; color:#f1f1f1;} .grow{flex-grow:1;} .ii-row{display: flex;} .ii{display:inline-block; padding: 0.2rem 0.3rem; margin:0.08rem; margin-left:0; background:#eee;} .ib{border:1px solid #eee; color:#fff; text-transform:lowercase;} .ic{text-transform:lowercase;} .ii-dist, .ii-indy{display:inline-block; transform: skew(-15deg); font-weight:900;} .ii-st{color:#fff;} .st-red{background:#892e2e;} .st-green{background:#338f47;} .st-yellow{background:#958122;} .st-steel{background:#566e7e;} .st-orange{background:#d55800;} .ii-tier{color:#fff;} .ii-tier{color:#fff;} .ii.tier-X{background:#666;} .ii.tier-1{background:#5494f7;} .ii.tier-2{background:#2977ef;} .ii.tier-3{background:#06f;} .ii.tier-4{background:#0152cd;} .ii.tier-5{background:#003991;} .ii-name{white-space: nowrap; overflow: hidden; text-overflow: ellipsis;} .ii-rb{background:#cacaca; color:#333;} div.sks{padding:0.4em 0.5em; margin-top:0.5em; background:#3473BA; color:#fff; font-size:1.1em;} .legend{position:absolute; left:2vw; top:]]..27-80*(fontSize-0.91)..[[vh; background:#fff; opacity:0.85; font-size:]]..fontSize..[[vh; color:#222; z-index:999;} .legend h2{font-size:]]..fontSize..[[vh; margin:0 0 0.2em 0; padding:0.15em 0.6em; background:#3473BA; color:#fff; font-weight:400;} .legend > p{color:#666; font-size:0.95em; line-height:1.0; padding:0em 0.3em; margin:0.4em 0.6em 0 0.6em; border-left:0.5em solid #3473BA;} ul{list-style:none; margin:0; padding:0.6em 0 0.2em 0;} ul li{margin-bottom:0.3em; padding:0.2em 0.6em;} li strong{background:#555; color:#f1f1f1; padding:0.2em 0.3em; margin-right:0.4em;} li span{background:#e1e1e1; color:#555; padding:0.2em 0.3em; margin-right:0.4em;} li span.on{background:#338f47; color:#fff;} li span.off{background:#777; color:#ccc;} .glow::after{z-index:10; display:block; position:absolute; top:-0.6vh; left:-0.6vh; width:1vh; height:1vh; border:0.4vh solid #fff; border-right:none; border-bottom:none; content:' ';} .svg{display:inline-block;} svg{width:100%;} svg,.svg{margin:0; padding:0;} ]],cssBase=\"\"}local K={}function J.getCSS(L)L.cssBase=L.cssStatic..[[ li.]]..L.lastFilter..[[{background:#3473BA !important; color:#fff;} ]]..(L.searchActive and\"li.f1{background:#3473BA !important; color:#fff;}\"or\"\")..[[ </style> <div class=\"legend\"> <div class=\"svg\"><svg version=\"1.1\" viewBox=\"0 0 1024 84\" xml:space=\"preserve\"> <style type=\"text/css\"> .st0{fill:#3473BA;} .st1{fill:#FFFFFF;} .st2{font-family:'BankGothic';} .st3{font-size:46.69px; text-transform:uppercase;} </style> <rect class=\"st0\" width=\"100%\" height=\"90\"/> <g> <path class=\"st1\" d=\"M41.2,37.2c2.9-0.2,5.8,1,7.5,3.4c1.3,1.7,3.7,2.1,5.4,0.8c0,0,0.1,0,0.1-0.1l2.9-2.3c1.7-1.3,2-3.7,0.7-5.3 c-6.6-8.7-19.1-10.5-27.8-3.8s-10.5,19.1-3.8,27.8c3.7,4.9,9.6,7.9,15.8,7.9c4.3-0.1,8.5-1.5,12.1-4.1c5.1-3.5,10.2-9,19.9-16 c-4.2,1.1-8.4,2.4-12.5,4c-6.6,2.3-13.9,4.8-19.5,4.7c-4.7,0-8.5-3.8-8.5-8.5C33.5,41.2,36.9,37.5,41.2,37.2L41.2,37.2z\"/> <path class=\"st1\" d=\"M87,54.1c-2.9,0.2-5.8-1-7.5-3.4c-1.3-1.7-3.7-2.1-5.4-0.8c0,0-0.1,0-0.1,0.1l-2.9,2.3c-1.7,1.3-2,3.7-0.7,5.3 c6.6,8.8,19.1,10.5,27.8,3.9s10.5-19.1,3.9-27.8c-3.8-5-9.6-7.9-15.9-7.9c-4.3,0.1-8.5,1.5-12.1,4.1c-5.1,3.5-10.2,9-19.9,16 c4.2-1.1,8.4-2.4,12.5-4c6.6-2.3,13.9-4.8,19.5-4.7c4.7,0.2,8.3,4.2,8.1,8.8C94.2,50.2,91.1,53.6,87,54.1z\"/> </g> <text transform=\"matrix(1 0 0 1 126.19 57.85)\" class=\"st1 st2 st3\">Infinity Corporation</text> </svg></div> ]]if L.ready then L.cssBase=L.cssBase..[[ <h2>INDY HUD v1.3</h2> <p>]]..H('TOTAL ELEMENTS')..[[: ]]..L.totalUnits..[[</p> <p>]]..H('RENDERED')..[[: ]]..L.renderCt..[[</p> <p>]]..H('MATCHES IN RANGE')..[[: ]]..L.matchesFound..[[</p> <ul> <li><strong>CTRL:BACKSPC</strong><span>]]..H('Exit HUD')..[[</span></li> <li class=\"a1\"><strong>A:1</strong><span>show 1</span>]]..L.states[1]..[[</li> <li class=\"a2\"><strong>A:2</strong><span>show 2</span>]]..L.states[2]..[[</li> <li class=\"a3\"><strong>A:3</strong><span>show 3</span>]]..L.states[3]..[[</li> <li class=\"a4\"><strong>A:4</strong><span>show 4</span>]]..L.states[4]..[[</li> <li class=\"a5\"><strong>A:5</strong><span>show 5</span>]]..L.states[5]..[[</li> <li class=\"a6\"><strong>A:6</strong><span>show 6</span>]]..L.states[6]..[[</li> <li class=\"a7\"><strong>A:7</strong><span>show 7</span>]]..L.states[7]..[[</li> <li class=\"a8\"><strong>A:8</strong><span>show 8</span>]]..L.states[8]..[[</li> <li class=\"a9\"><strong>A:9</strong><span>show errors</span>]]..H('All Error Codes')..[[</li> <li class=\"r\"><strong>R</strong><span>show all</span>]]..H('Reset All Filters')..[[</li> <li class=\"f1\"><span>find pure</span>]]..H('Search For Output Products')..[[</li> <li class=\"f1\"><span>find assembly</span>]]..H('Search By Machine Type')..[[</li> </ul> <div class=\"sks\">]]..j(L.searches,', ')..[[</div> <h2>OPTIONS</h2> <ul> <li><strong>S:G</strong><span class=\"]]..(showContainers and\"on\"or\"off\")..[[\">]]..H(showContainers and(d and\"full\"or\"on\")or\"off\")..[[</span>]]..H('Include Containers')..[[</li> <li><strong>S:L</strong><span class=\"]]..(showRecipes and\"on\"or\"off\")..[[\">]]..H(showRecipes and\"on\"or\"off\")..[[</span>]]..H('Show Recipes')..[[</li> <li><strong>S:R</strong>]]..H('Reload the HUD')..[[</li> </ul> ]]else L.cssBase=L.cssBase..[[ <h2>]]..H('LOADING DATA')..[[</h2> <p>...</p> <div class=\"sks\"></div> ]]end;L.cssBase=L.cssBase..\"</div>\"end;function J.getARxy(L,M)local x={M.pos.x,M.pos.y,M.pos.z}return library.getPointOnScreen(x)end;function J.sortItems(L)table.sort(L.sortedIndy)end;function J.filter(L,x)if x=='errors'then L.lastFilter='a9'for N,O in ipairs(L.filters)do L.filters[N]=0 end;L.filters[3]=1;L.filters[4]=1;L.filters[5]=1;L.filters[7]=1;L.filters[8]=1 elseif x=='all'then L.lastFilter='r'L.searchActive=false;L.searches={}for N,O in ipairs(L.filters)do L.filters[N]=1 end elseif type(x/1)=='number'then L.lastFilter='a'..x;for N,O in ipairs(L.filters)do L.filters[N]=0 end;L.filters[x/1]=1 end end;function J.find(L,x)L.searchActive=true;local P=x:lower()L.searches[#L.searches+1]=P end;function J.init(L)L.curTime=system.getArkTime()system.showScreen(1)system.setScreen(\"\")L.ready=false;L.loaded=false;L.worldPos=vec3(construct.getWorldPosition())L.Initializer=coroutine.create(L.initRun)L.Renderer=coroutine.create(L.render)L.Processor=coroutine.create(L.update)L.Organizer=coroutine.create(L.organize)end;function J.coInit(L)local Q=coroutine.status(L.Initializer)if Q~=\"dead\"then local R,S=coroutine.resume(L.Initializer)if S then e(\"ERROR: \"..S)end end end;function J.initRun()local L=Industry;local T=core.getElementIdList()local U={}for N=1,#T,1 do local V={uid=T[N],class=core.getElementClassById(T[N]),state=0,schemLeft=0,unitsDone=0,batchTotal=0,batchLeft=0,maintainTotal=0,maintainDone=0,products={}}local W=V.class:lower():sub(1,8)if W=='industry'or W=='containe'then V.name=core.getElementNameById(T[N])V.class=W;V.kind=core.getElementDisplayNameById(T[N])if V.class=='industry'then V.pos=vec3(core.getElementPositionById(T[N]))+vec3(core.getElementUpById(T[N]))else V.pos=vec3(core.getElementPositionById(T[N]))+vec3(core.getElementUpById(T[N]))/2;V.productName=V.name end;V.pos=vec3(l(V.pos))V.body=\"\"V.bodyTiny=\"\"V.dist=200;V.msgColor='orange'U['uid'..V.uid]=V else end;if math.fmod(N,maxPerFrame)==0 then coroutine.yield()end end;L.elemIndy=U;L.renderIndy={}L.loaded=true end;function J.makeContainer(L,M)M.bodyTiny=[[<div class=\"ii ic\">]]..M.dist..[[m</div>]]M.body=[[ <div class=\"ii-row fs-s bg-b\"> <div class=\"ii ii-dist\">]]..M.dist..[[m</div><div class=\"ii ii-indy\">]]..H('Container')..[[</div> </div> <div class=\"ii-row\"> <div class=\"ii\">]]..M.name..[[</div> </div> ]]M.bodyTiny=M.body end;function J.makeBody(L,M)local X='red'if M.state==2 then X='green'elseif M.state==3 or M.state==7 then X='orange'elseif M.state==1 then X='steel'elseif M.state==6 then X='yellow'end;M.msgColor=X;local Y='X'local Z='-'local _=\"No selection\"local a0=M.schemLeft and\"SCHEMS: \"..M.schemLeft or\"-\"local a1=false;if M.mainProduct and M.mainProduct.name then Y=M.mainProduct.tier;Z=M.mainProduct.scale;if Z==''or not Z then Z='-'end;_=M.mainProduct.name;a1=M.mainProduct.prid end;M.productName=_;local a2=\"NA\"M.ordertype='na'if M.batchTotal>0 then a2=\"BATCHES: \"..M.batchLeft..\" / \"..f(\"%.0f\",M.batchTotal)M.ordertype='batch'elseif M.maintainTotal>0 then a2=\"MAINTAIN: \"..M.maintainDone..\" / \"..f(\"%.0f\",M.maintainTotal)M.ordertype='maintain'elseif M.state~=1 then a2=\"RUN &infin;\"M.ordertype='run'end;M.bodyTiny=[[<div class=\"ii ib st-]]..X..[[\">]]..M.dist..[[m</div>]]M.body=[[ <div class=\"ii-row fs-s bg-b\"> <div class=\"ii ii-dist\">]]..M.dist..[[m</div><div class=\"ii ii-indy\">]]..M.name..[[</div> </div> <div class=\"ii-row\"> <div class=\"ii ii-st st-]]..X..[[ grow\">]]..L.states[M.state]..[[</div> </div> <div class=\"ii-row bg-g\"> <div class=\"ii ii-tier tier-]]..Y..[[\">T]]..Y..[[</div><div class=\"ii scale-l\">]]..Z..[[</div><div class=\"ii ii-name grow\">]].._..[[</div> </div> <div class=\"ii-row fs-s\"> <div class=\"ii grow\">]]..a2 ..[[</div><div class=\"ii\">]]..a0 ..[[</div> </div> ]]if showRecipes and a1 and M.kind:lower():find('transfer unit')==nil then M.body=M.body..[[ <div class=\"ii-row fs-s\"> <div class=\"ii ii-rb grow\">]]..j(K[a1],\", \")..[[</div> </div> ]]end end;function J.makeRender(L,M)local a3=L:getARxy(M)local a4=a3[2]*100;local a5=a3[1]*100;if a5>94 or a5<1 or(a4>96 or a4<1)then return\"\"end;M.dist=g(a3[3])local a6=M.dist;local a7=1;a7=100-a6*10;local a8=\"\"a8=(100-a6/1.5-5)/100;local a9=75;a9=a9+40*(maxRenderDist-a6)/maxRenderDist;a9=a9/100;local aa=''local _=M.productName;if M.class=='containe'then aa='bg-k'end;local ab=false;if a4>49 and a4<50.25 and a5>48.5 and a5<49.5 then a8=0.99;a7=300-a6*10;ab=true end;local ac=M.ordertype=='run'and' glow'or''local ad=\"\"if a6<=8 or a6<=maxRenderDist and ab==true or M.class=='containe'and d==true then a7=200-a6*10;ad=[[ <div class=\"indy ifull ]]..aa..ac..[[\" style=\"z-index:]]..g(a7)..[[; opacity:]]..a8 ..[[; top: ]]..a4 ..[[vh; left: ]]..a5 ..[[vw;\"> ]]..M.body else a8=h(a8,minimumOpacity)if M.class=='containe'then a8=h(a8-0.2,minimumOpacity)end;ad=[[ <div class=\"indy ]]..aa..ac..[[\" style=\"z-index:]]..g(a7)..[[; opacity:]]..a8 ..[[; top: ]]..a4 ..[[vh; left: ]]..a5 ..[[vw; transform:scale(]]..a9 ..[[);\"> <div class=\"ii ib st-]]..M.msgColor..[[\">]]..M.dist..[[m</div> ]]end;ad=ad..\"</div>\"if ab==true then L.priorityIndy[#L.priorityIndy+1]=ad;return''else return ad end end;function J.coRender(L)if not L.loaded then return end;local Q=coroutine.status(L.Renderer)if Q~=\"dead\"then local R,S=coroutine.resume(L.Renderer)if S then e(\"ERROR: \"..S)end elseif Q==\"dead\"then L.Renderer=coroutine.create(L.render)local R,S=coroutine.resume(L.Renderer)end end;function J.render()local L=Industry;L.pPos=vec3(player.getWorldPosition())L:getCSS()L.priorityIndy={'<div class=\"prnt-p\">'}L.renderBlocks={}L.renderBlocks[1]=L.cssBase;L.renderBlocks[2]='<div class=\"prnt-r\">'local N=#L.renderBlocks+1;if L.ready then for ae,af in pairs(L.renderIndy)do local ag=L:makeRender(L.elemIndy[af])N=N+1;if ag~=\"\"then L.renderBlocks[#L.renderBlocks+1]=ag end;if math.fmod(N,maxPerFrame)==0 then coroutine.yield()end end end;L.renderBlocks[#L.renderBlocks+1]=\"</div>\"L.priorityIndy[#L.priorityIndy+1]=\"</div>\"local ah=#L.renderBlocks;L.renderCt=ah;local ad=table.concat(L.renderBlocks)..table.concat(L.priorityIndy)L.renderSize=ad:len()system.setScreen(ad)end;function J.coOrganize(L)if not L.loaded or not L.ready then return end;local Q=coroutine.status(L.Organizer)if Q~=\"dead\"then local R,S=coroutine.resume(L.Organizer)if S then e(\"ERROR: \"..S)end elseif Q==\"dead\"then L.Organizer=coroutine.create(L.organize)local R,S=coroutine.resume(L.Organizer)end end;function J.organize()local L=Industry;local ai=g(maxPerFrame/4)local aj=0;local ak={}local N=0;if L.ready then for af,M in pairs(L.elemIndy)do N=N+1;local al=true;local a6=L.pPos:dist(vec3(M.pos))if a6>maxRenderDist then al=false elseif M.class=='containe'then if not showContainers then al=false else local am=true;local _=M.productName:lower()if L.searchActive then for N,P in ipairs(L.searches)do if _==\"no selection\"or _:find(P)==nil and M.kind:lower():find(P)==nil then am=false end end end;if not am then al=false end end elseif L.filters[M.state]==0 then al=false else local am=true;local _=M.productName:lower()if L.searchActive then for N,P in ipairs(L.searches)do if _==\"no selection\"or _:find(P)==nil and M.kind:lower():find(P)==nil then am=false end end end;if not am then al=false end end;if al==true then if M.class~='containe'then aj=aj+1 end;ak[#ak+1]=af end;if math.fmod(N,ai)==0 then coroutine.yield()end end end;L.renderIndy=ak;L.matchesFound=aj end;function J.coUpdate(L)if not L.loaded then return end;local Q=coroutine.status(L.Processor)if Q~=\"dead\"then local R,S=coroutine.resume(L.Processor)if S then e(\"ERROR: \"..S)end elseif Q==\"dead\"then L.Processor=coroutine.create(L.update)local R,S=coroutine.resume(L.Processor)end end;function J.update()local L=Industry;local an=0;for af,M in pairs(L.elemIndy)do local ao=core.getElementIndustryInfoById(M.uid)if not ao or M.class=='containe'then L:makeContainer(M)else M.name=core.getElementNameById(M.uid)M.state=ao.state;M.schemLeft=ao.schematicsRemaining;M.unitsDone=ao.unitsProduced;M.batchTotal=ao.batchesRequested;M.batchLeft=ao.batchesRemaining;M.maintainTotal=ao.maintainProductAmount;M.maintainDone=ao.currentProductAmount;if M.state==6 and M.maintainDone<M.maintainTotal then M.maintainDone=M.maintainTotal end;M.products=ao.currentProducts;M.timeLeft=ao.remainingTime;M.mainProduct={}if M.state==1 and M.batchLeft<0 then M.batchLeft='--'end;if M.maintainDone>=k then M.maintainDone=g(M.maintainDone/k)end;if M.products and#M.products>0 then M.mainProduct=M.products[1]local ap=M.mainProduct.id;local aq=system.getItem(ap)M.mainProduct.name=aq.locDisplayName;M.mainProduct.tier=aq.tier;M.mainProduct.scale=aq.size;local ar='p'..ap;M.mainProduct.prid=ar;if not K[ar]then local as=system.getRecipes(ap)local at={}if#as>0 then for au,av in pairs(as[1].ingredients)do local aw=system.getItem(av.id)at[#at+1]=aw.locDisplayName end end;K[ar]=at end end;L:makeBody(M)end;an=an+1;if math.fmod(an,c)==0 then coroutine.yield()end end;L.totalUnits=an;L.ready=true end;return J end)()Commands=(function()local J={active=false,label='Listen to Voice',timed=0,lastCMD='',list={show={desc=' [1 to 9, show specific message matches]',fn=function(L,ax)local x=ax[2]Industry:filter(x)end},find={desc=' [search key, find machines or outputs]',fn=function(L,ax)local ay=table.remove(ax,1)local O=table.concat(ax,' ')Industry:find(O)end}}}function J.init(L)L.helps={}for ax,az in pairs(L.list)do if az.desc then az.name=ax;L.helps[#L.helps+1]=ax end end;table.sort(L.helps)end;function J.key(L,aA)local af=aA:sub(7,8)local type=aA:sub(1,6)if af=='9'then L:call('show errors')elseif aA=='speedup'then if a then Industry:init()else L:call('show all')end elseif aA=='lshift'then a=true elseif aA=='lalt'then b=true elseif aA=='gear'then if a then if d==true then d=false;showContainers=false elseif showContainers==false then showContainers=true else d=true end end elseif aA=='light'then if a then showRecipes=not showRecipes end elseif type=='option'then L:call('show '..af)end end;function J.keyStop(L,aA)if aA=='lshift'then a=false elseif aA=='lalt'then b=false end end;function J.help(L)e('----------------------------')e('- FR by Elias Villd / DE by Ikara')e('- twitch.tv/codeinfused')e('- tinyurl.com/indyhud')e('----------------------------')e('- INDY HUD BY CODEINFUSED v1.3 rc')for N,aB in ipairs(L.helps)do e(aB..L.list[aB].desc)end;e('----------------------------')end;function J.call(L,aC,aD)local ax={}for M in aC:gmatch(\"%S+\")do table.insert(ax,M)end;local x=string.lower(ax[1])if x=='help'then L:help()elseif L.list[x]then L.list[x].fn(L,ax,aD)end end;return J end)()Industry:init()Commands:init()Commands:help()","filter":{"args":[],"signature":"onStart()","slotKey":"-1"},"key":"0"},{"code":"Industry:coInit()\nIndustry:coUpdate()\nIndustry:coOrganize()\nIndustry:coRender()\ncollectgarbage(\"collect\")","filter":{"args":[],"signature":"onUpdate()","slotKey":"-4"},"key":"1"},{"code":"Commands:call(text)","filter":{"args":[{"variable":"*"}],"signature":"onInputText(text)","slotKey":"-4"},"key":"2"},{"code":"--[[if action:sub(1,6)=='option' then\n  Commands:key(action)\nelseif action=='speedup' then\n  Commands:key('r')\nelseif action=='gear' then\nend\n]]\nCommands:key(action)","filter":{"args":[{"variable":"*"}],"signature":"onActionStart(action)","slotKey":"-4"},"key":"3"},{"code":"Commands:keyStop(action)","filter":{"args":[{"variable":"*"}],"signature":"onActionStop(action)","slotKey":"-4"},"key":"4"}],"methods":[],"events":[]}
